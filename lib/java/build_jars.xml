<project default="default">
	<target name="default">
		<echo>Building Epsilon jar</echo>
		<jar destfile="epsilon.jar">
			<fileset dir="../org.eclipse.epsilon.eol.engine/bin"/>
			<fileset dir="../org.eclipse.epsilon.etl.engine/bin"/>
			<fileset dir="../org.eclipse.epsilon.evl.engine/bin"/>
			<fileset dir="../org.eclipse.epsilon.egl.engine/bin"/>
			<fileset dir="../org.eclipse.epsilon.egl.traceability.fine/bin"/>
			<fileset dir="../org.eclipse.epsilon.erl.engine/bin"/>
			<fileset dir="../org.eclipse.epsilon.emc.hutn/bin"/>
			<fileset dir="../org.eclipse.epsilon.hutn.xmi/bin"/>
			<fileset dir="../org.eclipse.epsilon.hutn.engine/bin"/>
			<fileset dir="../org.eclipse.epsilon.hutn.model/bin"/>
			<fileset dir="../org.eclipse.epsilon.hutn.model.antlrAst/bin"/>
			<fileset dir="../org.eclipse.epsilon.hutn.model.config/bin"/>
			<fileset dir="../org.eclipse.epsilon.emc.emf/bin"/>
			<fileset dir="../org.eclipse.epsilon.antlr.postprocessor/bin"/>
			<fileset dir="../org.eclipse.epsilon.antlr.postprocessor.model/bin"/>
			<fileset dir="../org.eclipse.epsilon.common/bin"/>
			<fileset dir="../org.antlr.runtime_3.1.b1"/>
		</jar>
		
		<echo>Unpacking EMF jars</echo>
		<unzip src="org.eclipse.emf.common_2.8.0.v20130125-0546.jar" dest="tmp/org.eclipse.emf.common/" />
		<unzip src="org.eclipse.emf.ecore_2.8.3.v20130125-0546.jar" dest="tmp/org.eclipse.emf.ecore/" />
		<unzip src="org.eclipse.emf.ecore.xmi_2.8.1.v20130125-0546.jar" dest="tmp/org.eclipse.emf.ecore.xmi/" />
		
		<echo>Building EMF jar</echo>
		<jar destfile="emf.jar.zip">
			<fileset dir="tmp/org.eclipse.emf.common" includes="org/**/*"/>
			<fileset dir="tmp/org.eclipse.emf.ecore"  includes="org/**/*"/>
			<fileset dir="tmp/org.eclipse.emf.ecore.xmi"  includes="org/**/*"/>
		</jar>
	</target>
</project>